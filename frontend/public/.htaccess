# Handle JavaScript files with proper MIME type
<FilesMatch "\.js$">
    Header set Content-Type "application/javascript"
</FilesMatch>

# Handle CSS files with proper MIME type
<FilesMatch "\.css$">
    Header set Content-Type "text/css"
</FilesMatch>

# Prevent JavaScript files from being served as HTML
RewriteEngine On
RewriteCond %{REQUEST_URI} \.js$
RewriteRule ^(.*)$ - [T=application/javascript]

# Handle static assets
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^_next/static/(.*)$ _next/static/$1 [L]

# Fallback to index.html for client-side routing
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /index.html [L]
